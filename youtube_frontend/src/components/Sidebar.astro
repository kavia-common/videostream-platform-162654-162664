---
/**
 * Sidebar.astro
 * Left vertical navigation with grouped items and dividers.
 */
const primary = [
  { label: 'Home', active: true, icon: 'M10 20v-6h4v6h5v-8h3L12 3 2 12h3v8z' },
  { label: 'Explore', icon: 'M12 2l3 7 7 3-7 3-3 7-3-7-7-3 7-3 3-7z' },
  { label: 'Shorts', icon: 'M10 2h4l4 6v8l-4 6h-4l-4-6V8l4-6z' },
  { label: 'Subscriptions', icon: 'M4 6h16v12H4z M8 10l6 4-6 4z' },
];
const library = [
  { label: 'Library', icon: 'M4 6h16v12H4z' },
  { label: 'History', icon: 'M13 3a9 9 0 1 0 9 9h-2A7 7 0 1 1 13 5v7l6 3-1-2-5-2V3z' },
  { label: 'Your videos', icon: 'M4 6h12v8H4z M17 8l5 3-5 3z' },
  { label: 'Watch later', icon: 'M12 2a10 10 0 1 0 10 10h-2A8 8 0 1 1 12 4v8l6 3-1-2-5-2V2z' },
  { label: 'Liked videos', icon: 'M12 21.35l-1.45-1.32C5.4 15.36 2 12.28 2 8.5 2 6 4 4 6.5 4 8 4 9.5 4.8 10.5 6c1-1.2 2.5-2 4-2C17 4 19 6 19 8.5c0 3.78-3.4 6.86-8.55 11.54z' },
];
---

<aside class="sidebar" aria-label="Primary navigation">
  <nav>
    <ul class="section primary">
      {primary.map((item) => (
        <li class={`nav-item ${item.active ? 'active' : ''}`} tabindex="0" role="button" aria-label={item.label}>
          <svg width="24" height="24" viewBox="0 0 24 24" aria-hidden="true"><path fill="currentColor" d={item.icon} /></svg>
          <span class="label">{item.label}</span>
        </li>
      ))}
    </ul>

    <hr class="divider" />

    <ul class="section library">
      {library.map((item) => (
        <li class="nav-item" tabindex="0" role="button" aria-label={item.label}>
          <svg width="24" height="24" viewBox="0 0 24 24" aria-hidden="true"><path fill="currentColor" d={item.icon} /></svg>
          <span class="label">{item.label}</span>
        </li>
      ))}
    </ul>
  </nav>
</aside>

<style>
  .sidebar {
    grid-area: sidebar;
    width: 240px;
    background: var(--bg-surface);
    border-right: 1px solid var(--divider);
    position: sticky;
    top: 56px;
    height: calc(100vh - 56px);
    overflow: auto;
    padding: 12px 8px;
  }
  .section { list-style: none; margin: 0; padding: 0; }
  .nav-item {
    display: flex;
    align-items: center;
    gap: 16px;
    height: 44px;
    padding: 0 12px;
    border-radius: 10px;
    cursor: pointer;
    color: var(--text-primary);
    outline: none;
  }
  .nav-item:hover { background: var(--hover); }
  .nav-item.active { background: var(--hover); font-weight: 600; }
  .label { font-size: 14px; font-weight: 500; }

  .divider {
    border: none;
    border-top: 1px solid var(--divider);
    margin: 16px 0;
  }

  @media (max-width: 1024px) {
    .sidebar { width: 72px; padding: 12px 4px; }
    .label { display: none; }
    .nav-item { justify-content: center; }
  }

  @media (max-width: 768px) {
    .sidebar { display: none; }
  }
</style>
